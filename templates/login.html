{% extends "axiom.html" %}

{% block title %}Ax.home{% endblock %}

{% block head %}
    {{ super() }}
    <link type="text/css" rel="stylesheet" href={{ url_for('static', filename='css/home.css') }} />
    <link type="text/css" rel="stylesheet" href={{ url_for('static', filename='katex/dist/katex.min.css') }} />
    <script src={{ url_for('static', filename='js/socket.io.js') }} language="Javascript" type="text/javascript"></script>
    <script src={{ url_for('static', filename='js/client.js') }} language="Javascript" type="text/javascript"></script>
    <script src={{ url_for('static', filename='js/home.js') }} language="Javascript" type="text/javascript"></script>
{% endblock %}

{% block header %}{% endblock %}

{% block content %}
    {% if not current_user.is_authenticated %}
    <div id=prompt>Log In:</div>
        <div class="box">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="notification">
                {{ messages[0] }}
            </div>
        {% endif %}
        {% endwith %}
        <form method="POST" action="/login_user">
                <div class="login_field">
                    <input class="input" type="email" name="email" placeholder="Email" autofocus="">
                </div>

                <div class="login_field">
                    <input class="input" type="password" name="password" placeholder="Password">
                </div>

            <input type="hidden" name="next" value="{{next}}"/>

            <button class="login-button">Log In</button>
        </form>
    </div>
    {% endif %}
    {% if current_user.is_authenticated %}
            <div class="box">
            <div class="notification">
                You are logged in as {{ current_user.name }}, log out?
            </div>
        <form method="POST" action="/logout_user">

            <input type="hidden" name="next" value="{{next}}"/>

            <button class="login-button">Log Out</button>
        </form>
        </div>
    {% endif %}
{% endblock %}

{% block foot_login %}{% endblock %}
